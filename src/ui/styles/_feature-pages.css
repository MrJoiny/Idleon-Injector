/**
 * Feature Pages — Universal Component Styles
 *
 * Shared by every world sub-tab feature (Stamps, Forge, Alchemy, etc.).
 * Add a new feature page → zero new CSS files. Just use these classes.
 *
 * Class anatomy:
 *   .feature-header          top info + refresh bar
 *   .feature-page-nav        secondary sub-nav (e.g. Combat / Skills / Misc)
 *   .feature-list            scrollable list container
 *   .feature-row             one data row  (grid: info | badge | controls)
 *   .feature-row__info       left: index badge + name
 *   .feature-row__badge      centre: read-only status (e.g. "LV 50 / 100")
 *   .feature-row__controls   right: inputs + action buttons
 *   .feature-btn             base action button
 *   .feature-btn--apply      SET / confirm (green hover)
 *   .feature-btn--danger     RELOCK / reset (red)
 *   .feature-btn--loading    spinner state
 */

/* ── Header ──────────────────────────────────────────────────────────────── */

.feature-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 18px;
    border-bottom: 1px solid var(--c-border);
    flex-shrink: 0;
    gap: 12px;
}

.feature-header h3 {
    margin: 0;
    font-size: 0.85rem;
    letter-spacing: 0.06em;
    color: var(--c-text-main);
}

.feature-header__desc {
    margin: 2px 0 0;
    font-size: 0.7rem;
    color: var(--c-text-muted);
    font-style: italic;
}

/* ── Secondary page nav (e.g. Combat / Skills / Misc) ────────────────────── */

.feature-page-nav {
    display: flex;
    gap: 4px;
    padding: 8px 16px 0;
    border-bottom: 1px solid var(--c-border);
    background: var(--c-panel-dim);
    flex-shrink: 0;
    flex-wrap: wrap;
}

.feature-page-btn {
    background: transparent;
    border: 1px solid transparent;
    border-bottom: none;
    color: var(--c-text-muted);
    padding: 6px 20px;
    font-size: 0.8rem;
    font-family: var(--font-mono);
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: color 0.15s;
    position: relative;
    bottom: -1px;
}

.feature-page-btn:hover { color: var(--c-text-main); }

.feature-page-btn.active {
    color: var(--c-accent);
    border-color: var(--c-border);
    border-bottom-color: var(--c-panel-dim);
    background: var(--c-panel-dim);
}

.feature-page-btn.active::after {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 2px;
    background: var(--c-accent);
    box-shadow: 0 0 5px var(--c-accent-glow);
}

/* ── Scrollable list ─────────────────────────────────────────────────────── */

.feature-list {
    display: flex;
    flex-direction: column;
    gap: 5px;
    padding: 14px;
    flex: 1;
    overflow-y: auto;
}

.feature-loader {
    display: flex;
    height: 160px;
    align-items: center;
    justify-content: center;
}

/* ── Data row ────────────────────────────────────────────────────────────── */

.feature-row {
    display: grid;
    grid-template-columns: minmax(0, 1fr) auto auto;
    align-items: center;
    gap: 10px;
    background: var(--c-panel);
    border: 1px solid var(--c-border);
    padding: 7px 12px;
    transition: border-color 0.2s;
}

.feature-row:hover           { border-color: var(--c-border-strong); }
.feature-row--success        { border-color: var(--c-success) !important; background: var(--c-success-10); }
.feature-row--error          { border-color: var(--c-danger)  !important; background: var(--c-danger-10); }

/* Info cell */
.feature-row__info {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
}

.feature-row__index {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    color: var(--c-text-muted);
    background: var(--c-black-40);
    padding: 1px 5px;
    flex-shrink: 0;
}

.feature-row__name {
    font-size: 0.84rem;
    font-weight: 600;
    color: var(--c-text-main);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Status badge (centre cell) */
.feature-row__badge {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--c-accent);
    background: var(--c-accent-06);
    border: 1px solid var(--c-accent-20);
    padding: 2px 8px;
    white-space: nowrap;
    flex-shrink: 0;
}

/* Controls cell */
.feature-row__controls {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
}

/* Narrow the NumberInput inside feature rows — wide enough for 3 digits + ± buttons */
.feature-row__controls .number-input-wrapper { width: 110px; }

/* ── Action buttons ──────────────────────────────────────────────────────── */

.feature-btn {
    padding: 0 12px;
    height: 30px;
    font-size: 0.75rem;
    font-family: var(--font-mono);
    letter-spacing: 0.04em;
    border: none;
    cursor: pointer;
    white-space: nowrap;
    transition: background 0.15s, color 0.15s;
}

.feature-btn--apply {
    background: var(--c-control-border-strong);
    color: var(--c-white);
}

.feature-btn--apply:hover:not(:disabled) {
    background: var(--c-success);
    color: var(--c-black);
}

.feature-btn--danger {
    background: var(--c-danger-10);
    color: var(--c-danger-soft-text);
    border: 1px solid var(--c-danger);
}

.feature-btn--danger:hover:not(:disabled) {
    background: var(--c-danger);
    color: var(--c-white);
}

.feature-btn--loading { opacity: 0.5; cursor: wait; }

.feature-btn:disabled { opacity: 0.4; cursor: not-allowed; }

/* Anvil — info row (Points Remaining banner) */
.feature-row--info                          { border-color: var(--c-accent) !important; background: var(--c-accent-06); }
.feature-row__badge--highlight              { color: var(--c-accent); font-weight: 700; }

/* ── Statue tiers ─────────────────────────────────────────────────────── */
.statue-tier-badge {
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    padding: 1px 6px;
    border-radius: 3px;
    margin-left: 6px;
    text-transform: uppercase;
    border: 1px solid currentColor;
}
.tier--stone  { color: #8a9bb0; }
.tier--gold   { color: #ffb700; }
.tier--onyx   { color: #b06aff; }
.tier--zenith { color: #00e5ff; }

.feature-row.tier--gold   { border-color: rgba(255,183,0,0.35); }
.feature-row.tier--onyx   { border-color: rgba(176,106,255,0.35); }
.feature-row.tier--zenith { border-color: rgba(0,229,255,0.35); }

.statue-tier-select {
    background: var(--c-panel);
    color: var(--c-text);
    border: 1px solid var(--c-border);
    border-radius: 4px;
    padding: 0 6px;
    height: 32px;
    font-size: 0.8rem;
    cursor: pointer;
}
.statue-tier-select:focus { outline: none; border-color: var(--c-accent); }

/* ── Statue stacked controls ──────────────────────────────────────────── */
.feature-row__controls--stack {
    flex-direction: column;
    align-items: flex-end;
    gap: 4px;
}
.statue-control-row {
    display: flex;
    align-items: center;
    gap: 6px;
}
.statue-control-label {
    font-size: 0.7rem;
    color: var(--c-text-dim);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 60px;
    text-align: right;
}
